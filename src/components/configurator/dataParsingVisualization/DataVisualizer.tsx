import React from 'react';
import { VisualizeUrl } from './VisualizeUrl';
import { parseDownNestedDataDescription, parseUrlMethod } from '../../../urlAsState/objectmap/versionReading';
import { parserObjects } from '../../../geometryGeneration/versions/parserObjects';
import { DataEntryArray } from '../../../urlAsState/types/dataEntry';
import { globalLerp } from '../../../urlAsState/utils/spline';
import { DataType } from '../../../urlAsState/enums/dataTypes';

const urls = [
  'AFlM8-n0I_PimApEUnXqFDJCfQ',
  'AFlM8-n0I_PiqApEUnXqFDJCfQ',
  'AFlM8-n0I_PjEApEUnXqFDJCfQ',
  'AFlM8-n0I_Pj6ApEUnXqFDJCfQ',
  'AFlM8-n0I_PD6ApEUnXqFDJCfQ',
  'AFlM8-n0I_ND6ApEUnXqFDJCfQ',
  'AFlM8-n0I_Gj6ApEUnXqFDJCfQ',
  'AFlM8-n0I-_D6ApEUnXqFDJCfQ',
  'AFlM8-n0I8-j6ApEUnXqFDJCfQ',
  'AFlM8-n0I--j6ApEUnXqFDJCfQ',
  'AFlM8-n0JY-j6ApEUnXqFDJCfQ',
  'AFlM8-n0Ji-j6ApEUnXqFDJCfQ',
  'AFlM8-FBQeDwUCRFJ16hQyQn0',
  'AFlM89tzLRFJ16hQyQn0',
  'AFlM88tzLRFJ16hQyQn0',
  'AFlM89NzLRFJ16hQyQn0',
  'AFlM89NzLRFRQZAEAAKGSE-g',
  'AFlM89NzLRFRQWgEAAKGSE-g',
  'AFlM89NzLRFRQLgEAAKGSE-g',
  'AFlM89NzLRFRALgEAAKGSE-g',
  'AFlM89NzLRFQ-LgEAAKGSE-g',
  'AFlM89NzLRFQ6LgEAAKGSE-g',
  'AFlM89NzLRFQ6LgEAQKGSE-g',
  'AFlM89NzLRFQ6LgEAoKGSE-g',
  'AFlM89NzLRFQ6LgEFIKGSE-g',
  'AFlM89NzLRFQ6LgEJEKGSE-g',
  'AFlM89NzLRFQ6LgEMUKGSE-g',
  'AFlM8-H2LCJw0SRFQ6LgEOEKGSE-g',
  'AFlM8-H2LCJw0TRFQ6LgEOEKGSE-g',
  'AFlM8-H2LCJw0URFQ6LgEOEKGSE-g',
  'AFlM8-H2LCJw0VRFQ6LgEOEKGSE-g',
  'AFlM8-H2LCJw0WRFQ6LgEOEKGSE-g',
  'AFlM8-H2LCJw0XRFQ6LgEOEKGSE-g',
  'AFlM8-H2LCJw0YRFQ6LgEOEKGSE-g',
  'AFlM8-HWLCJw0YRFQ6LgEOEKGSE-g',
  'AFlM8-HGLCJw0YRFQ6LgEOEKGSE-g',
  'AFlM8-FWLCJw0YRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0YRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0XRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0VRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0URFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0TRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0SRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0RRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0QRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0PRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0NRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0LRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0KRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0JRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0IRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0HRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0GRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0FRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0ERFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0DRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJw0CRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJwzCRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJwyCRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJwxCRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJwuCRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJwqCRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJwpCRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJwoCRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJwmCRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJwkCRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJwjCRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJwiCRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJweCRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJwcCRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJwWCRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJwUCRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCJGUCRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCHiUCRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCG4UCRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCGgUCRFQ6LgEOEKGSE-g',
  'AFlM8-FGLCGcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FF5CGcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FFHCGcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FEtCGcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FEbCGcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FETCGcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FETBmcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FETBWcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FETAGcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FES7mcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FES5WcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FES42cUCRFQ6LgEOEKGSE-g',
  'AFlM8-FES4mcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FES4GcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FESymcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FEStWcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FESimcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FESfWcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FESeGcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FEKeGcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FD4eGcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FDkeGcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FDOeGcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FC0eGcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FCWeGcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FB2eGcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FBSeGcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FBQeGcUCRFQ6LgEOEKGSE-g',
  'AFlM8-FBQeGKUCRFQ6LgEOEKGSE-g',
  'AFlM8-FBQeFsUCRFQ6LgEOEKGSE-g',
  'AFlM8-FBQeEqUCRFQ6LgEOEKGSE-g',
  'AFlM8-FBQeEmUCRFQ6LgEOEKGSE-g',
  'AFlM8-FBQeEgUCRFQ6LgEOEKGSE-g',
  'AFlM8-FBQeEWUCRFQ6LgEOEKGSE-g',
  'AFlM8-FBQeD0UCRFQ6LgEOEKGSE-g',
  'AFlM8-FBQeDwUCRFQ6LgEOEKGSE-g',
  'AFlM89NzLRFQ6LgEOEKGSE-g',
  'AFlM89NzLRFQ6LgEMUKGSE-g',
  'AFlM89NzLRFQ6LgEJEKGSE-g',
  'AFlM89NzLRFQ6LgEFIKGSE-g',
  'AFlM89NzLRFQ6LgEAoKGSE-g',
  'AFlM89NzLRFQ6LgEAQKGSE-g',
  'AFlM89NzLRFQ6LgEAAKGSE-g',
  'AFlM89NzLRFQ-LgEAAKGSE-g',
  'AFF1qNNzLRFRALgEAAKGSE-g',
  'AFF1p9NzLRFRALgEAAKGSE-g',
  'AFF1p5NzLRFRALgEAAKGSE-g',
  'AFF1phNzLRFRALgEAAKGSE-g',
  'AFF1pRNzLRFRALgEAAKGSE-g',
  'AFF1pBNzLRFRALgEAAKGSE-g',
  'AFF1otNzLRFRALgEAAKGSE-g',
  'AFF1oNNzLRFRALgEAAKGSE-g',
  'AFF1oJNzLRFRALgEAAKGSE-g',
  'AFF1oBNzLRFRALgEAAKGSE-g',
  'AFF0UBNzLRFRALgEAAKGSE-g',
  'AFF0QBNzLRFRALgEAAKGSE-g',
  'AFFwQBNzLRFRALgEAAKGSE-g',
  'AFFoQBNzLRFRALgEAAKGSE-g',
  'AFFkQBNzLRFRALgEAAKGSE-g',
  'AFFcQBNzLRFRALgEAAKGSE-g',
  'AFFQQBNzLRFRALgEAAKGSE-g',
  'AFFAQBNzLRFRALgEAAKGSE-g',
  'AFEoQBNzLRFRALgEAAKGSE-g',
  'AFEEQBNzLRFRALgEAAKGSE-g',
  'AFEAQBNzLRFRALgEAAKGSE-g',
  'AE4AQBNzLRFRALgEAAKGSE-g',
  'AEEAQBNzLRFRALgEAAKGSE-g',
  'AEAAQBNzLRFRALgEAAKGSE-g',
  'AEUAQBNzLRFRALgEAAKGSE-g',
  'AEYAQBNzLRFRALgEAAKGSE-g',
  'AEYUQBNzLRFRALgEAAKGSE-g',
  'AEYQQBNzLRFRALgEAAKGSE-g',
  'AEYQQFNzLRFRALgEAAKGSE-g',
  'AEYQQZNzLRFRALgEAAKGSE-g',
  'AEYQQlNzLRFRALgEAAKGSE-g',
  'AEYQQ1NzLRFRALgEAAKGSE-g',
  'AEYQQ5NzLRFRALgEAAKGSE-g',
  'AEYQQ9NzLRFRALgEAAKGSE-g',
  'AEYQU9NzLRFRALgEAAKGSE-g',
  'AEYQY9NzLRFRALgEAAKGSE-g',
  'AEYQk9NzLRFRALgEAAKGSE-g',
  'AEYQs9NzLRFRALgEAAKGSE-g',
  'AEYQ49NzLRFRALgEAAKGSE-g',
  'AEYQ89NzLRFRALgEAAKGSE-g',
  'AEYY89NzLRFRALgEAAKGSE-g',
  'AEYg89NzLRFRALgEAAKGSE-g',
  'AEYo89NzLRFRALgEAAKGSE-g',
  'AEZI89NzLRFRALgEAAKGSE-g',
  'AEZM89NzLRFRALgEAAKGSE-g',
  'AEdM89NzLRFRALgEAAKGSE-g',
  'AEtM89NzLRFRALgEAAKGSE-g',
  'AFhM89NzLRFRALgEAAKGSE-g',
  'AFlM89NzLRFRALgEAAKGSE-g',
  'AFlM89NzLRFRQLgEAAKGSE-g',
  'AFlM89NzLRFRQWgEAAKGSE-g',
  'AFlM89NzLRFRQZAEAAKGSE-g',
  'AFlM89NzLRFJ1632QQn0',
  'AFlM89NzLRFJ163uQQn0',
  'AFlM89NzLRFJ163mQQn0',
  'AFlM89NzLRFJ162eQQn0',
  'AFlM89NzLRFJ1612QQn0',
  'AFlM89NzLRFJ161uQQn0',
  'AFlM89NzLRFJ161mQQn0',
  'AFlM89NzLRFJ1602QQn0',
  'AFlM89NzLRFJ160mQQn0',
  'AFlM89NzLRFJ160eQQn0',
  'AFlM89NzLRFJ160WQQn0',
  'AFlM89NzLRFJ160GQQn0',
  'AFlM89NzLRFJ16z2QQn0',
  'AFlM89NzLRFJ16zeQQn0',
  'AFlM89NzLRFJ16zGQQn0',
  'AFlM89NzLRFJ16yGQQn0',
  'AFlM89NzLRFJ16xWQQn0',
  'AFlM89NzLRFJ16wuQQn0',
  'AFlM89NzLRFJ16wWQQn0',
  'AFlM89NzLRFJ16v2QQn0',
  'AFlM89NzLRFJ16umQQn0',
  'AFlM89NzLRFJ16t2QQn0',
  'AFlM89NzLRFJ16teQQn0',
  'AFlM89NzLRFJ16tWQQn0',
  'AFlM89NzLRFJ16tOQQn0',
  'AFlM89NzLRFJ16tGQQn0',
  'AFlM89NzLRFJ16smQQn0',
  'AFlM89NzLRFJ16sOQQn0',
  'AFlM89NzLRFJ16r-QQn0',
  'AFlM89NzLRFJ16reQQn0',
  'AFlM89NzLRFJ16qmQQn0',
  'AFlM89NzLRFJ16qOQQn0',
  'AFlM89NzLRFJ16p2QQn0',
  'AFlM89NzLRFJ16omQQn0',
  'AFlM89NzLRFJ16oeQQn0',
  'AFlM89NzLRFJ16oePQn0',
  'AFlM89NzLRFJ16oeKQn0',
  'AFlM89NzLRFJ16oeAQn0',
  'AFlM89NzLRFJ16od3Qn0',
  'AFlM89NzLRFJ16odvQn0',
  'AFlM89NzLRFJ16odqQn0',
  'AFlM89NzLRFJ16odoQn0',
  'AFlM89NzLRFJ16odkQn0',
  'AFlM89NzLRFJ16odfQn0',
  'AFlM89NzLRFJ16odaQn0',
  'AFlM89NzLRFJ16odXQn0',
  'AFlM89NzLRFJ16odPQn0',
  'AFlM89NzLRFJ16odMQn0',
  'AFlM89NzLRFJ16odAQn0',
  'AFlM89NzLRFJ16oc4Qn0',
  'AFlM89NzLRFJ16ocvQn0',
  'AFlM89NzLRFJ16ocqQn0',
  'AFlM89NzLRFJ16ockQn0',
  'AFlM89NzLRFJ16ocQQn0',
  'AFlM89NzLRFJ16ocIQn0',
  'AFlM89NzLRFJ16ob9Qn0',
  'AFlM89NzLRFJ16obyQn0',
  'AFlM89NzLRFJ16obwQn0',
  'AFlM89NzLRFJ16obvQn0',
  'AFlM89NzLRFJ16obtQn0',
  'AFlM89NzLRFJ16obqQn0',
  'AFlM89NzLRFJ16obkQn0',
  'AFlM89NzLRFJ16obfQn0',
  'AFlM89NzLRFJ16obSQn0',
  'AFlM89NzLRFJ16obKQn0',
  'AFlM89NzLRFJ16obHQn0',
  'AFlM89NzLRFJ16obCQn0',
  'AFlM89NzLRFJ16oa9Qn0',
  'AFlM89NzLRFJ16oa6Qn0',
  'AFlM89NzLRFJ16oa0Qn0',
  'AFlM89NzLRFJ16oanQn0',
  'AFlM89NzLRFJ16oadQn0',
  'AFlM89NzLRFJ16oaSQn0',
  'AFlM89NzLRFJ16oaFQn0',
  'AFlM89NzLRFJ16oZsQn0',
  'AFlM89NzLRFJ16oZoQn0',
  'AFlM89NzLRFJ16oZiQn0',
  'AFlM89NzLRFJ16oZAQn0',
  'AFlM89NzLRFJ16oY_Qn0',
  'AFlM89NzLRFJ16oY3Qn0',
  'AFlM89NzLRFJ16oYyQn0',
  'AFlM89NzLRFJ16noyQn0',
  'AFlM89NzLRFJ16mQyQn0',
  'AFlM89NzLRFJ16mIyQn0',
  'AFlM89NzLRFJ16mAyQn0',
  'AFlM89NzLRFJ16lYyQn0',
  'AFlM89NzLRFJ16kIyQn0',
  'AFlM89NzLRFJ16kAyQn0',
  'AFlM89NzLRFJ16j4yQn0',
  'AFlM89NzLRFJ16joyQn0',
  'AFlM89NzLRFJ16jIyQn0',
  'AFlM89NzLRFJ16i4yQn0',
  'AFlM89NzLRFJ16igyQn0',
  'AFlM89NzLRFJ16iQyQn0',
  'AA88-n0Ji-j6AoDKhPoFDJCfQ',
  'AFkABGn0KK8sEFUDLFBkTOtQoZIT6A',
];

export const DataVisualizer: React.FC = () => {
  // const dataArrays = urls.map((url) => parseDownNestedDataDescription(parseUrlMethod(url, parserObjects)));
  const dataArrays = globalLerp(800).map(parseDownNestedDataDescription) as DataEntryArray[];
  const keysPresent = [...new Set(dataArrays.flatMap((dataArray) => dataArray.map((dataEntry) => dataEntry.name)))];
  const types = keysPresent.map((key) => dataArrays.flat().find((dataEntry) => dataEntry.name === key)?.type);

  return (
    <>
      <div style={{ display: 'flex', flexDirection: 'row' }}>
        {keysPresent.map((k, i) => (
          <div key={i} style={{ width: `${100 / keysPresent.length}%`, height: 100 }}>
            <div
              style={{
                height: `${100 / keysPresent.length}%`,
                width: 0,
                transform: `translate(calc(1.5 * 100vh / ${keysPresent.length}), 0) rotate(.25turn)`,
              }}
            >
              {`${Object.values(DataType)[types[i] as number]}-${k}`}
            </div>
          </div>
        ))}
      </div>
      {dataArrays.map((dataArray, i) => (
        <VisualizeUrl key={i} dataArray={dataArray as DataEntryArray} keysPresent={keysPresent} />
      ))}
    </>
  );
};
